<!doctype html><html lang="zh-Hans"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no" name="viewport"><meta content="webkit" name="renderer"><meta content="webkit" name="force-rendering"><meta content="✨小透明・宸✨" name="author"><meta content="" name="keywords"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><link href="https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/favicon.png" rel="icon shortcut" type="image/ico"><link href="https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/favicon.png" rel="icon"><link href="https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/favicon.png" rel="apple-touch-icon"><link href="/atom.xml" rel="alternate" type="application/atom+xml"><title>使用 waifu2x-caffe 和 ImageMagick 放大 GIF 动图 | 存在感消失的地方|ω•`)</title><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://akarin.dev/2019/11/23/powershell-waifu2xgif/"},"headline":"使用 waifu2x-caffe 和 ImageMagick 放大 GIF 动图","datePublished":"2019-11-23T03:28:42.000Z","dateModified":"2019-11-23T03:28:42.000Z","author":{"@type":"Person","name":"✨小透明・宸✨","image":{"@type":"ImageObject","url":"https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/avatar.jpg"},"description":"身处寒夜 把握星光✨"},"publisher":{"@type":"Organization","name":"存在感消失的地方|ω•`)","logo":"https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/favicon.png"},"keywords":"","description":"表情包高清重制工具ꉂ(ˊᗜˋ*)"}</script><meta content="存在感消失的地方|ω•`)" property="og:site_name"><meta content="使用 waifu2x-caffe 和 ImageMagick 放大 GIF 动图" property="og:title"><meta content="表情包高清重制工具ꉂ(ˊᗜˋ*)" property="og:description"><meta content="article" property="og:type"><meta content="https://akarin.dev/2019/11/23/powershell-waifu2xgif/" property="og:url"><meta content="https://p.sda1.dev/12/6d6b4db1ebe0de9c6b49fa9794f73415/UrRUCchq.jpg" property="og:image"><meta content="2019-11-23T03:28:42.000Z" property="article:published_time"><meta content="2019-11-23T03:28:42.000Z" property="article:modified_time"><meta content="✨小透明・宸✨" property="article:author"><script>document.documentMode&&(location.href="../../../../upgrade-browser.html")</script><script>document.addEventListener("WeixinJSBridgeReady",(()=>{const e=document.createElement("script");e.src="https://fastly.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/js/fuck-wechat.min.js",document.body.appendChild(e)}))</script><link href="https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/css/mdui.min.css" rel="stylesheet"><link href="https://gcore.jsdelivr.net/combine/npm/prismjs@1/plugins/line-numbers/prism-line-numbers.min.css,npm/prism-themes@1/themes/prism-vsc-dark-plus.min.css,npm/aplayer@1/dist/APlayer.min.css,gh/TransparentLC/transparentlc.github.io@879beec/css/style.min.css" rel="stylesheet"><style>*{--sidebar-image:url(https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/sidebar_header.jpg);--sidebar-image-color:#958981;--banner-image:url(https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/daily_pic.png);--banner-image-color:#f09ea3;--post-thumbnail-color:#f09ea3;--copy-code-btn-color:#fff}.MathJax[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}</style><meta content="Hexo 7.3.0" name="generator"></head><body class="mdui-drawer-body-left mdui-theme-accent-pink mdui-theme-primary-pink"><script>window.switchDark=t=>{const a={auto:"mdui-theme-layout-auto",enable:"mdui-theme-layout-dark",disable:""};(t=t||localStorage.getItem("dark"))in a||(t="auto");for(const e in a)a[e]&&document.body.classList[e===t?"add":"remove"](a[e]);localStorage.setItem("dark",t)},switchDark()</script><button class="mdui-fab mdui-m-a-2 mdui-shadow-0 mdui-text-color-grey-700" mdui-drawer="{target:'#akarin-drawer'}" style="position:fixed;z-index:1"><i class="material-icons mdui-icon">menu</i></button><nav class="mdui-drawer mdui-drawer-full-height mdui-shadow-6" id="akarin-drawer"><div class="akarin-util-bg-cover mdui-p-x-2" id="akarin-drawer-media"><img class="akarin-hover-spin mdui-img-circle mdui-m-t-4" src="https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/avatar.jpg" id="akarin-drawer-avatar"><div class="akarin-util-text-gradient mdui-card-media-covered"><div class="mdui-card-primary"><div class="mdui-typo-subheading">✨小透明・宸✨</div><div class="akarin-util-opacity-half mdui-typo-caption">存在感消失的地方|ω•`)</div></div></div></div><div class="mdui-list" mdui-collapse><div><a href="../../../../" class="mdui-ripple mdui-list-item"><i class="material-icons mdui-icon mdui-list-item-icon">home</i> <span class="mdui-list-item-content">主页</span></a></div><div><a href="../../../../about/" class="mdui-ripple mdui-list-item"><i class="material-icons mdui-icon mdui-list-item-icon">person</i> <span class="mdui-list-item-content">关于</span></a></div><div><a href="../../../../friend/" class="mdui-ripple mdui-list-item"><i class="material-icons mdui-icon mdui-list-item-icon">link</i> <span class="mdui-list-item-content">友链</span></a></div><div><a href="https://github.com/TransparentLC" target="_blank" rel="noopener" class="mdui-ripple mdui-list-item"><i class="material-icons mdui-icon mdui-list-item-icon">code</i> <span class="mdui-list-item-content">GitHub</span></a></div><div><a href="https://github.com/TransparentLC.gpg" target="_blank" rel="noopener" class="mdui-ripple mdui-list-item"><i class="material-icons mdui-icon mdui-list-item-icon">vpn_key</i> <span class="mdui-list-item-content">PGP 公钥</span></a></div><div><a href="../../../../archives/" class="mdui-ripple mdui-list-item"><i class="material-icons mdui-icon mdui-list-item-icon">collections_bookmark</i> <span class="mdui-list-item-content">归档</span> <small class="akarin-drawer-badge mdui-color-theme-accent">33</small></a></div><div><a href="../../../../atom.xml" class="mdui-ripple mdui-list-item"><i class="material-icons mdui-icon mdui-list-item-icon">rss_feed</i> <span class="mdui-list-item-content">RSS</span></a></div><div class="mdui-divider"></div><div class="mdui-collapse-item mdui-collapse-item-open"><div class="mdui-ripple mdui-list-item mdui-collapse-item-header"><i class="material-icons mdui-icon mdui-list-item-icon">brightness_4</i> <span class="mdui-list-item-content">深色模式</span> <i class="material-icons mdui-icon mdui-collapse-item-arrow">keyboard_arrow_down</i></div><div class="mdui-list mdui-collapse-item-body"><div class="mdui-ripple mdui-list-item" data-dark="auto"><span class="mdui-list-item-content">根据系统主题切换</span></div><div class="mdui-ripple mdui-list-item" data-dark="enable"><span class="mdui-list-item-content">启用</span></div><div class="mdui-ripple mdui-list-item" data-dark="disable"><span class="mdui-list-item-content">禁用</span></div></div></div><div class="mdui-collapse-item mdui-collapse-item-open"><div class="mdui-ripple mdui-list-item mdui-collapse-item-header"><i class="material-icons mdui-icon mdui-list-item-icon">insert_chart</i> <span class="mdui-list-item-content">访问统计</span> <i class="material-icons mdui-icon mdui-collapse-item-arrow">keyboard_arrow_down</i></div><div class="mdui-list mdui-collapse-item-body"><div class="mdui-ripple mdui-list-item"><span class="mdui-list-item-content">站点访问量</span> <small class="akarin-drawer-badge mdui-color-theme-accent" id="busuanzi_value_site_pv">Loading</small></div><div class="mdui-ripple mdui-list-item"><span class="mdui-list-item-content">站点访客数</span> <small class="akarin-drawer-badge mdui-color-theme-accent" id="busuanzi_value_site_uv">Loading</small></div><div class="mdui-ripple mdui-list-item"><span class="mdui-list-item-content">页面访问量</span> <small class="akarin-drawer-badge mdui-color-theme-accent" id="busuanzi_value_page_pv">Loading</small></div></div></div></div></nav><picture id="akarin-top" title="返回顶部"><source srcset="https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/top.avif" type="image/avif"><source srcset="https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/top.webp" type="image/webp"><img src="https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/top.png"></picture><div style="padding-top:20px"></div><div class="mdui-hidden-sm-down" style="padding-top:40px"></div><div class="mdui-hidden-md-down" style="padding-top:40px"></div><main class="mdui-container" style="max-width:1024px"><div class="akarin-util-rounded-5 mdui-card mdui-shadow-4"><div class="mdui-ripple akarin-post-bg akarin-util-bg-cover" data-src="https://p.sda1.dev/12/6d6b4db1ebe0de9c6b49fa9794f73415/UrRUCchq.jpg" data-src-avif="https://vfile.meituan.net/mmdb/4b771938c3f3dbc5c7ef68299628af1553121.jpg" data-src-webp="https://p.sda1.dev/12/cd9bbf9e3ea075ef9f6c8bf2cc6aa377/8X-yFwjz.webp"><div class="akarin-blurred akarin-post-bg akarin-util-bg-cover" style="background-image:url(data:image/jpeg;base64,/9j/2wBDAAgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNH/2wBDAQgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNH/wAARCABAAEADASIAAhEBAxEB/8QAGwAAAwADAQEAAAAAAAAAAAAABAUGAAMHAQL/xAArEAACAQMDAwQBBAMAAAAAAAABAgMABBEFEjEhQVEGFCJhEzJxkaFSscH/xAAYAQADAQEAAAAAAAAAAAAAAAABAwQCAP/EACARAQADAAICAwEBAAAAAAAAAAEAAhEDEiExBEFhI4H/2gAMAwEAAhEDEQA/AO/0Df3DFmBOI17eaOZgo61Mal+We4t4IzhZG+XkdwaTzb1Ac1jOIG3meLdCSBngUEqwz9Zp5FeSSQrg8c9KStpUNlDObTcGlYtt3Ejdz8QeKyx1PeEDR4Yr1x3pdP5ua5G2qXroemPBcTAMO+BWLcuG+jmtJlVfmrtk9x9CvGdEY5Y5GOO2ao2Jz8haXDnAP7HtW6l29RtZmJJyfv40wtpNynr/ADRIEmufGO/1gUEYUkBJVhjGHHKnFFXAbeCOxWg3VgdzvjuNxA57UGGskr3Ub+G7t0lYGNZiHA6Y3dAf7qnWxWSGNVcpKqL8qS3+n+61aEbwpyGOR0bg/wDKoxcFUyI/kvxYecUuh7GUcqdONrg5rEm+9s5yl0AY34cfpNOBNAxG7I8+CPqvFkhvUnhPIHDf7qeW5uLSZrc9emY8/XIoo09epjO/5YlKFXaoGcjjFGW4UMcKQM5ANIbW5jvAChaN18cU8tUkyN/PPPmt1di7CaMX3lzLHcSozBVUDHSp6/lkZA0odkZioJP9AUy1K7t21ZoQod+mFHOVFAQ2Wy3W2FnIY1feFk+Shs55OcCpLUb3ttrJvgJVR6FEqDg+YQ8/uBb3IDRvGcPyCpWmGpXsVvE8shGEHWhIoLgwXazsNyyAgr4ArRrNh7rTImkb5pgNt4NU8fvzFZW16i4bn+MlIPVTnUY5VhxBkqx7lTVBqSGZ7d0Ut1VtynGBnORUzPYKitsQdM9KV+8voUWFLmVFU7kKsVpuliXvxqPV43E8OzoMN1b2skkhRtjjIXj5c5FVNq6uiOAcN1rmcF6p0xJrifMu8hjIf4OTzXRNJdjawNIBkqCP2rOBIeanU/dSAz6XNa3jz2rxsWcth+hGRRIF0YmeRYVlAyArkqTTZ1J4r4EOAMAc0CpXciW7bNgJjSMtIzDLHJPfI4qe1HU4FRo3Uqy8KMEuPofVPb3Sp7oqwu2iUcIqrgnyayy0eG1kMxJkmIx+RuR+3iuB38m6vGV1Vt9EiZmZ7UTGJ49wyA64PSlllYmd/wApzsJJVSPPeum6lpL6jamHcEPZsZxUJ6jsryx9vbMQYBEMOoxvI5zWzCU0+TtM+1gGtw3UUMMcUWA6ksxXkA4xVn6d1yC/SKGZljuwMMh6bvtaF9KSRajpktjKqsbdsYP+LdQaVeoPStzADdWhbap3Ar+tK5iLWLvS3hHwz//Z)"></div><div class="akarin-util-text-gradient akarin-post-title"><div class="mdui-card-primary"><div class="mdui-card-primary-title mdui-text-color-white-text">使用 waifu2x-caffe 和 ImageMagick 放大 GIF 动图</div></div></div></div><div class="mdui-valign mdui-card-header"><div><img class="akarin-hover-spin mdui-card-header-avatar" src="https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/img/avatar.jpg"><div class="mdui-card-header-title">✨小透明・宸✨</div><div class="mdui-card-header-subtitle">2019-11-23 11:28:42</div></div></div><article class="mdui-p-a-3 mdui-card-content mdui-typo"><blockquote><p>封面图：<a href="https://www.pixiv.net/artworks/65506510" target="_blank" rel="noopener">Pixiv ID: 65506510 「干物妹!うまるちゃん」 by にゃー</a></p></blockquote><p>因为收集了很多<del>萌萌的</del>动图表情包，然鹅它们的分辨率都太低了，所以就有了将这些表情包高清化的想法(๑‾ ꇴ ‾๑)</p><p>比如下面的这只小埋，分辨率就只有 176x180……</p><figure class="akarin-blurred-container"><div style="padding-bottom:min(calc(100%/176*180),180px,480px)"></div><img class="mdui-hoverable mdui-img-rounded" data-src="https://p.sda1.dev/12/8c7c5f0484037372802a6e4ade6a5e41/6INczE-R.gif" data-src-webp="https://p.sda1.dev/12/b4636ff0252f8a1cefb4ee6b1c8126b3/1iDgMzo_.jpg"> <img class="mdui-hoverable mdui-img-rounded akarin-blurred" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAgBAMAAAAYrL5yAAAAMFBMVEWtcUXwfVWaX0CMVj26hlB+TTrGbk3ed1LVrJLzw6bVx7zu3NCpkITclW/x9PNUNSdeCpz7AAAACXBIWXMAAAPoAAAD6AG1e1JrAAABtklEQVR42i2QMWsUQRTHXzbLFlZ5FtkqsMxAKosww1YWWcNgrDNsEy1cgxexchXc6gpByO4dansbtJXDC6doY+5ABE0hWZWAGE/IF7C4L2DjfzYuuwPvN7//25lHQmsdC6mVTK22aUpCK70llBRxbN1LQgmpBFadQoUhhdBCSiW1S8SIuF1FHS9Gs7aHgJMx8z0kHADpuJp5R8Wuh+dFu7OTZYCutHFr0MKMQ4CV2zbFb73Iy8OzX09y5otauwgRXyvrwSDn5fYcEQUrZVU/r/eYYViiZHU2PBz0SijSAUNB9er94Pigf4V3YqsdKI++7B811eY5SCjovb7cf7ddX+UHOD7Aau/Z9dH3vw5YIYgo2H/Rn749rje5wLXIJ6rq6fSwrk+4WFKtcaea9KaTxzkXDCPxqZN1f5SnPwMO81swkoC7e2dfi2L3HPhJxnc/3hwPT91MAIzJ+PewGX14mTsgySRZ+G0+n4z+OOABmIX7zdM5nkfMYQs21psb4/nB+A0GvagAKBkK8Wnr0nr2kOQagG8+A17QNopIRGhqjEl802B2RGv0HyC4gdoDRAIVPkybFon+ASwjllTE1gLvAAAAAElFTkSuQmCC"><noscript><img class="mdui-hoverable mdui-img-rounded mdui-center mdui-img-fluid" src="https://p.sda1.dev/12/8c7c5f0484037372802a6e4ade6a5e41/6INczE-R.gif" alt="undefined" title="undefined"></noscript></figure><p>放大动漫图片一般都是使用 waifu2x 算法，因为自己有 N 卡所以会使用 N 卡专用的 <a href="https://github.com/lltcggie/waifu2x-caffe" target="_blank" rel="noopener">waifu2x-caffe</a>，虽然能把 GIF 拖进去但是放大后的图片会变成<strong>只有第一帧的静态图片</strong>，所以就需要别的方法了。</p><p>在 Google 上找了一下，找到了<a href="https://web.archive.org/web/20200807215107/https://nichijou.date/archives/6/gif2x.html" target="_blank" rel="noopener">这篇文章</a>，尝试用 ImageMagick 把 GIF 的每一帧拆出来，使用 waifu2x 放大每一张图以后再拼回去，倒是个不错的想法（我好像用类似的方法，不过是用来放大视频 233）</p><p>因为步骤还是有些繁琐，所以原文也写了若干个 <strong>Bash 脚本</strong>来自动完成使用 ImageMagick 拆图和生成 GIF 的步骤，不过 waifu2x-caffe 明明是 Windows 上的软件，难道作者是想着把图片从 Linux 复制到 Windows 里面，放大以后再拼回去？还是有点麻烦，所以就打算自己写个 PowerShell 脚本，自动在 Windows 系统内直接完成所有操作∠( ᐛ 」∠)_</p><p>在写脚本之前，首先需要准备两个软件：</p><ol><li><a href="https://github.com/lltcggie/waifu2x-caffe/releases" target="_blank" rel="noopener">waifu2x-caffe</a></li><li><a href="https://imagemagick.org/script/download.php#windows" target="_blank" rel="noopener">ImageMagick</a></li></ol><p>对于 waifu2x-caffe，<strong>只有 N 卡才可以使用 GPU 加速</strong>，A 或 I 卡用户就只能选择<del>慢如蜗牛</del>的 CPU 计算了，当然也可以另请高明，使用其它调用 waifu2x 算法的软件～</p><p>N 卡用户还可以考虑开启 cuDNN 继续提速，只需要找一个 <a href="https://alilin-my.sharepoint.com/personal/ebolyhgj_xlu_me/_layouts/15/download.aspx?share=EU0iM7-ZePZCm_sBJ2sVU1kBO5HHL5AnkvYnMxR1g4h6hg" target="_blank" rel="noopener"><code>cudnn64_7.dll</code></a> 和 <code>waifu2x-caffe.exe</code> 放在同一个目录就可以了。</p><h1 id="指定路径"><a href="#指定路径" class="headerlink" title="指定路径"></a>指定路径</h1><p>waifu2x-caffe 有图形界面，不过脚本里调用的是它的命令行版程序。先在脚本里指定一些路径：</p><pre class="language-powershell line-numbers" data-language="powershell"><code class="language-powershell"><span class="token comment"># waifu2x-caffe和ImageMagick的程序路径</span>
<span class="token variable">$Waifu2xCUIPath</span> = <span class="token string">'D:\waifu2x-caffe\waifu2x-caffe-cui.exe'</span>
<span class="token variable">$MagickPath</span> = <span class="token string">'D:\ImageMagick-7.0.8-Q16-HDRI\magick.exe'</span>

<span class="token comment"># 将路径转换为绝对路径</span>
<span class="token variable">$InputFile</span> = <span class="token variable">$ExecutionContext</span><span class="token punctuation">.</span>SessionState<span class="token punctuation">.</span>Path<span class="token punctuation">.</span>GetUnresolvedProviderPathFromPSPath<span class="token punctuation">(</span><span class="token variable">$InputFile</span><span class="token punctuation">)</span>
<span class="token variable">$OutputFile</span> = <span class="token variable">$ExecutionContext</span><span class="token punctuation">.</span>SessionState<span class="token punctuation">.</span>Path<span class="token punctuation">.</span>GetUnresolvedProviderPathFromPSPath<span class="token punctuation">(</span><span class="token variable">$OutputFile</span><span class="token punctuation">)</span>

<span class="token comment"># 指定GIF帧的保存路径</span>
<span class="token variable">$InputDirectory</span> = <span class="token namespace">[IO.Path]</span>::GetDirectoryName<span class="token punctuation">(</span><span class="token variable">$InputFile</span><span class="token punctuation">)</span>
<span class="token variable">$OutputDirectory</span> = <span class="token namespace">[IO.Path]</span>::GetDirectoryName<span class="token punctuation">(</span><span class="token variable">$OutputFile</span><span class="token punctuation">)</span>
<span class="token variable">$SourceDirectory</span> = <span class="token punctuation">(</span><span class="token variable">$InputDirectory</span> <span class="token operator">+</span> <span class="token string">'\temp_frames_source'</span><span class="token punctuation">)</span>
<span class="token variable">$UpscaledDirectory</span> = <span class="token punctuation">(</span><span class="token variable">$InputDirectory</span> <span class="token operator">+</span> <span class="token string">'\temp_frames_upscaled'</span><span class="token punctuation">)</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="拆分图片"><a href="#拆分图片" class="headerlink" title="拆分图片"></a>拆分图片</h1><p>GIF 图片把帧拆出来不难，但是除了每一帧的图片，还应该把每一帧的时间信息保存下来，否则就没办法把放大后的图片拼回 GIF 了。ImageMagick 的 identify 工具可以获取 GIF 每一帧的时间，还可以使用类似于 <code>printf()</code> 的格式化字符串自定义输出。为了方便起见，这里就直接把输出格式自定义为<strong>后面合成 GIF 时需要的参数</strong>：</p><pre class="language-powershell line-numbers" data-language="powershell"><code class="language-powershell">&<span class="token variable">$MagickPath</span> identify <span class="token operator">-</span>format <span class="token punctuation">(</span><span class="token string">"-delay %T \`""</span> <span class="token operator">+</span> <span class="token variable">$UpscaledDirectory</span><span class="token punctuation">.</span>Replace<span class="token punctuation">(</span><span class="token string">'\'</span><span class="token punctuation">,</span> <span class="token string">'\\'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\\frame-%s.png\`" "</span><span class="token punctuation">)</span> <span class="token variable">$InputFile</span><span class="line-numbers-rows" aria-hidden="true"><span></span></span></code></pre><p>把上面的小埋丢进来，得到的输出是这样的（已添加换行）：</p><pre class="line-numbers language-none"><code class="language-none">-delay 10 "C:\Users\Admin\Desktop\temp_frames_upscaled\frame-0.png"
-delay 10 "C:\Users\Admin\Desktop\temp_frames_upscaled\frame-1.png"
-delay 10 "C:\Users\Admin\Desktop\temp_frames_upscaled\frame-2.png"
-delay 10 "C:\Users\Admin\Desktop\temp_frames_upscaled\frame-3.png"
...<span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>从这里也可以看出，原图中的每一帧的时间都是 0.1 秒。可以将这些输出保存到文件中，只要添加管道输出 <code>Out-File ($InputDirectory + '\' + [IO.Path]::GetFileNameWithoutExtension($InputFile) +'.txt') -Encoding utf8</code> 就可以了。</p><p>然后就是拆图的操作：</p><pre class="language-powershell line-numbers" data-language="powershell"><code class="language-powershell"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">-not</span> <span class="token punctuation">(</span><span class="token function">Test-Path</span> <span class="token variable">$SourceDirectory</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mkdir <span class="token variable">$SourceDirectory</span> <span class="token punctuation">|</span> <span class="token function">Out-Null</span>
<span class="token punctuation">}</span>
&<span class="token variable">$MagickPath</span> convert <span class="token operator">-</span>coalesce <span class="token variable">$InputFile</span> <span class="token punctuation">(</span><span class="token variable">$SourceDirectory</span> <span class="token operator">+</span> <span class="token string">'\frame.png'</span><span class="token punctuation">)</span> <span class="token punctuation">|</span> <span class="token function">Out-Null</span><span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><a href="https://aotu.io/notes/2018/06/06/ImageMagick_intro/" target="_blank" rel="noopener">《图像处理 - ImageMagick 简单介绍与案例》</a>：</p><p>“-coalesce：根据图像 -dispose 元数据的设置覆盖图像序列中的每个图像，以重现动画序列中每个点的动画效果。下面用一张结果对比图来解释这句话。”</p><figure class="akarin-blurred-container"><div style="padding-bottom:min(calc(100%/1349*1346),1346px,480px)"></div><img class="mdui-hoverable mdui-img-rounded" data-src="https://p.sda1.dev/12/0db6a7154110745dc03948dbb7d6b60e/S3Engglm.jpg" data-src-webp="https://p.sda1.dev/12/fbddfb37b45213efae33514df4c5f1f5/ewhOhe2U.webp" data-src-avif="https://p.sda1.dev/12/e2e6b234392bd3efc44078a65df84cdb/SZN28xZL.avif"> <img class="mdui-hoverable mdui-img-rounded akarin-blurred" src="data:image/jpeg;base64,/9j/2wBDAAgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNH/2wBDAQgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNH/wAARCAAgACADASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAABQQDBgL/xAAkEAACAgEFAAIDAQEAAAAAAAABAgMEBQAGERIhEzEHQlEUIv/EABcBAAMBAAAAAAAAAAAAAAAAAAABAgP/xAAdEQACAgIDAQAAAAAAAAAAAAAAARExAhIhIiNx/9oADAMBAAIRAxEAPwBHdm6s3S3Bfq1szNXjSbrx0RlUdARq3ZG7MrkdxVqM+RnsRskpbuFX1V0Xu7cGSqbiv1ocnNAiTccdVZVHxgjVuxdyXru5K1N7k0yFJSxcKPpdLK1Zg36JbZXQZnN356DN5KCLOTwRR2rKAdEYDpJwAuup/Hm58ll8zZq2bs08aVGfmQKPQ6jSmSyrR3rMfzMirNMD4PtWAHHmlNs5J7eRmTtyq1+fQAeQQNDtWVD3Xd/DDMb/AMfirtilLj7zsjFA8SoQSFDf3VmE3vQzF6KlHStQyOGK/MEHijn6VjozNfj6rkcnPkP9ttXmfuRH0AUhQuve3NgVMNk48mty28qK69Jen7jTc8QP02VQdDb3DBDJJD8ExYMwHTr70PB+yNV4/MV7s7QJG6ssff3jRFzbKy2pZhPY/wC3dz1K+Fzzx7rfEYSPGzvOJJi7R9CJOv8AQf10F9pP/9k"><noscript><img class="mdui-hoverable mdui-img-rounded mdui-center mdui-img-fluid" src="https://p.sda1.dev/12/0db6a7154110745dc03948dbb7d6b60e/S3Engglm.jpg" alt="undefined" title="undefined"></noscript></figure></blockquote><p>拆完图片以后，就能在 <code>temp_frames_source</code> 文件夹下看到一批 <code>frame-0.png</code>、<code>frame-1.png</code>……了。</p><figure class="akarin-blurred-container"><div style="padding-bottom:min(calc(100%/1077*687),687px,480px)"></div><img class="mdui-hoverable mdui-img-rounded" data-src="https://p.sda1.dev/12/f8540212ccb5fd9da71a30522fdfa3f1/gqRjYDO1.png" data-src-webp="https://p.sda1.dev/12/1315a5ad388046cbecf09e4886f5df5c/wyP9V4CA.webp"> <img class="mdui-hoverable mdui-img-rounded akarin-blurred" src="data:image/jpeg;base64,/9j/2wBDAAgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNH/2wBDAQgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNH/wAARCAAUACADASIAAhEBAxEB/8QAGgABAAIDAQAAAAAAAAAAAAAAAAMGAQIFB//EACgQAAEDAwMDAwUAAAAAAAAAAAEAAgQDETEFEkEVIYETQqIWIjJRYf/EABYBAQEBAAAAAAAAAAAAAAAAAAMEAP/EACARAAEDAwUBAAAAAAAAAAAAAAABAxECMWISEyEiIyT/2gAMAwEAAhEDEQA/APZqxNHT5L6ewCkHbQb27Hm5XCGvzgOxhYZ8vKsM/c3TpwIAbscQ4i+T+lW4+jzpMenXpvj7HspkXbY9v5ZA6tevrNilhG9ua0S8ckn1BPxuiZf8fK169PNrviYp8n3+VL0DUr/nGy/gc+E6BqQt98bt6fA9ueEftkL8+BcWgVKZD2gg3BBFwjWta0NaAAMAIirITKPJaxxHARFjH//Z"><noscript><img class="mdui-hoverable mdui-img-rounded mdui-center mdui-img-fluid" src="https://p.sda1.dev/12/f8540212ccb5fd9da71a30522fdfa3f1/gqRjYDO1.png" alt="undefined" title="undefined"></noscript></figure><h1 id="使用-waifu2x-放大"><a href="#使用-waifu2x-放大" class="headerlink" title="使用 waifu2x 放大"></a>使用 waifu2x 放大</h1><p>waifu2x-caffe 支持将一整个文件夹输入，放大文件夹中的所有图片，所以这一步其实还是挺简单的？</p><pre class="language-powershell line-numbers" data-language="powershell"><code class="language-powershell">&<span class="token variable">$Waifu2xCUIPath</span> <span class="token operator">-</span>i <span class="token variable">$SourceDirectory</span> <span class="token operator">-</span>o <span class="token variable">$UpscaledDirectory</span> <span class="token operator">-</span>y cunet <span class="token operator">-</span>m noise_scale <span class="token operator">-</span>s 2 <span class="token operator">-</span>n 3 <span class="token operator">-</span>p cudnn <span class="token operator">-</span>b 8 <span class="token operator">-</span>t 1 <span class="token operator">--</span> <span class="token punctuation">|</span> <span class="token function">Out-Null</span><span class="line-numbers-rows" aria-hidden="true"><span></span></span></code></pre><p>上面这个是我习惯使用的配置：3 级降噪、CUnet 模型、放大 2 倍、使用 cuDNN 和 TTA 模式。如果要修改的话，可以参考 <a href="https://github.com/lltcggie/waifu2x-caffe#%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%A9%E3%82%A4%E3%83%B3%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3%E5%85%B1%E9%80%9A" target="_blank" rel="noopener">README.md</a> 里面的命令行参数说明～（请自备 Google 翻译）</p><p>这一步执行之后，在 <code>temp_frames_upscaled</code> 文件夹中也会出现放大后的每一帧的图片。</p><h1 id="合成-GIF"><a href="#合成-GIF" class="headerlink" title="合成 GIF"></a>合成 GIF</h1><p>使用 ImageMagick 从帧序列合成 GIF 的命令是 <code>magick -dispose previous -delay 10 frame-0.png -delay 10 frame-1.png ... -delay 10 frame-X.png output.gif</code>，可以通过拼接字符串来生成这些命令行参数：</p><pre class="language-powershell line-numbers" data-language="powershell"><code class="language-powershell"><span class="token variable">$Params</span> = <span class="token string">'-dispose previous '</span>
<span class="token variable">$Params</span> <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token namespace">[IO.File]</span>::ReadAllText<span class="token punctuation">(</span><span class="token variable">$InputDirectory</span> <span class="token operator">+</span> <span class="token string">'\'</span> <span class="token operator">+</span> <span class="token namespace">[IO.Path]</span>::GetFileNameWithoutExtension<span class="token punctuation">(</span><span class="token variable">$InputFile</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">'.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Replace<span class="token punctuation">(</span><span class="token string">"`r`n"</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span>
<span class="token variable">$Params</span> <span class="token operator">+=</span> <span class="token string">'"'</span> <span class="token operator">+</span> <span class="token variable">$OutputFile</span> <span class="token operator">+</span> <span class="token string">'"'</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">-not</span> <span class="token punctuation">(</span><span class="token function">Test-Path</span> <span class="token variable">$OutputDirectory</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    mkdir <span class="token variable">$OutputDirectory</span> <span class="token punctuation">|</span> <span class="token function">Out-Null</span>
<span class="token punctuation">}</span>
<span class="token function">Start-Process</span> <span class="token operator">-</span>FilePath <span class="token variable">$MagickPath</span> <span class="token operator">-</span>ArgumentList <span class="token variable">$Params</span> <span class="token operator">-</span>NoNewWindow <span class="token operator">-</span>Wait<span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>其中，帧序列的参数之前已经通过格式化输出保存到了文件中，在这里直接读取就可以了。</p><h1 id="完整脚本"><a href="#完整脚本" class="headerlink" title="完整脚本"></a>完整脚本</h1><pre class="language-powershell line-numbers" data-language="powershell"><code class="language-powershell"><span class="token keyword">function</span> Invoke-Waifu2xGIF<span class="token punctuation">(</span><span class="token namespace">[String]</span><span class="token variable">$InputFile</span><span class="token punctuation">,</span> <span class="token namespace">[String]</span><span class="token variable">$OutputFile</span><span class="token punctuation">,</span> <span class="token namespace">[Float]</span><span class="token variable">$Scale</span> = 2<span class="token punctuation">,</span> <span class="token namespace">[Switch]</span><span class="token variable">$TTA</span> = <span class="token boolean">$false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$Waifu2xCUIPath</span> = <span class="token string">'D:\waifu2x-caffe\waifu2x-caffe-cui.exe'</span>
    <span class="token variable">$MagickPath</span> = <span class="token string">'D:\ImageMagick-7.0.8-Q16-HDRI\magick.exe'</span>

    <span class="token variable">$InputFile</span> = <span class="token variable">$ExecutionContext</span><span class="token punctuation">.</span>SessionState<span class="token punctuation">.</span>Path<span class="token punctuation">.</span>GetUnresolvedProviderPathFromPSPath<span class="token punctuation">(</span><span class="token variable">$InputFile</span><span class="token punctuation">)</span>
    <span class="token variable">$OutputFile</span> = <span class="token variable">$ExecutionContext</span><span class="token punctuation">.</span>SessionState<span class="token punctuation">.</span>Path<span class="token punctuation">.</span>GetUnresolvedProviderPathFromPSPath<span class="token punctuation">(</span><span class="token variable">$OutputFile</span><span class="token punctuation">)</span>

    <span class="token variable">$InputDirectory</span> = <span class="token namespace">[IO.Path]</span>::GetDirectoryName<span class="token punctuation">(</span><span class="token variable">$InputFile</span><span class="token punctuation">)</span>
    <span class="token variable">$OutputDirectory</span> = <span class="token namespace">[IO.Path]</span>::GetDirectoryName<span class="token punctuation">(</span><span class="token variable">$OutputFile</span><span class="token punctuation">)</span>
    <span class="token variable">$SourceDirectory</span> = <span class="token punctuation">(</span><span class="token variable">$InputDirectory</span> <span class="token operator">+</span> <span class="token string">'\temp_frames_source'</span><span class="token punctuation">)</span>
    <span class="token variable">$UpscaledDirectory</span> = <span class="token punctuation">(</span><span class="token variable">$InputDirectory</span> <span class="token operator">+</span> <span class="token string">'\temp_frames_upscaled'</span><span class="token punctuation">)</span>

    &<span class="token variable">$MagickPath</span> identify <span class="token operator">-</span>format <span class="token punctuation">(</span><span class="token string">"-delay %T \`""</span> <span class="token operator">+</span> <span class="token variable">$UpscaledDirectory</span><span class="token punctuation">.</span>Replace<span class="token punctuation">(</span><span class="token string">'\'</span><span class="token punctuation">,</span> <span class="token string">'\\'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\\frame-%s.png\`" "</span><span class="token punctuation">)</span> <span class="token variable">$InputFile</span> <span class="token punctuation">|</span> <span class="token function">Out-File</span> <span class="token punctuation">(</span><span class="token variable">$InputDirectory</span> <span class="token operator">+</span> <span class="token string">'\'</span> <span class="token operator">+</span> <span class="token namespace">[IO.Path]</span>::GetFileNameWithoutExtension<span class="token punctuation">(</span><span class="token variable">$InputFile</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">'.txt'</span><span class="token punctuation">)</span> <span class="token operator">-</span>Encoding utf8
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">-not</span> <span class="token punctuation">(</span><span class="token function">Test-Path</span> <span class="token variable">$SourceDirectory</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mkdir <span class="token variable">$SourceDirectory</span> <span class="token punctuation">|</span> <span class="token function">Out-Null</span>
    <span class="token punctuation">}</span>
    &<span class="token variable">$MagickPath</span> convert <span class="token operator">-</span>coalesce <span class="token variable">$InputFile</span> <span class="token punctuation">(</span><span class="token variable">$SourceDirectory</span> <span class="token operator">+</span> <span class="token string">'\frame.png'</span><span class="token punctuation">)</span> <span class="token punctuation">|</span> <span class="token function">Out-Null</span>

    &<span class="token variable">$Waifu2xCUIPath</span> <span class="token operator">-</span>i <span class="token variable">$SourceDirectory</span> <span class="token operator">-</span>o <span class="token variable">$UpscaledDirectory</span> <span class="token operator">-</span>y cunet <span class="token operator">-</span>m noise_scale <span class="token operator">-</span>s <span class="token variable">$Scale</span> <span class="token operator">-</span>n 3 <span class="token operator">-</span>p cudnn <span class="token operator">-</span>b 8 <span class="token operator">-</span>t <span class="token punctuation">(</span><span class="token namespace">[Int32]</span><span class="token namespace">[Bool]</span><span class="token variable">$TTA</span><span class="token punctuation">)</span> <span class="token operator">--</span> <span class="token punctuation">|</span> <span class="token function">Out-Null</span>

    <span class="token variable">$Params</span> = <span class="token string">'-dispose previous '</span>
    <span class="token variable">$Params</span> <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token namespace">[IO.File]</span>::ReadAllText<span class="token punctuation">(</span><span class="token variable">$InputDirectory</span> <span class="token operator">+</span> <span class="token string">'\'</span> <span class="token operator">+</span> <span class="token namespace">[IO.Path]</span>::GetFileNameWithoutExtension<span class="token punctuation">(</span><span class="token variable">$InputFile</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">'.txt'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Replace<span class="token punctuation">(</span><span class="token string">"`r`n"</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span>
    <span class="token variable">$Params</span> <span class="token operator">+=</span> <span class="token string">'"'</span> <span class="token operator">+</span> <span class="token variable">$OutputFile</span> <span class="token operator">+</span> <span class="token string">'"'</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">-not</span> <span class="token punctuation">(</span><span class="token function">Test-Path</span> <span class="token variable">$OutputDirectory</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mkdir <span class="token variable">$OutputDirectory</span> <span class="token punctuation">|</span> <span class="token function">Out-Null</span>
    <span class="token punctuation">}</span>
    <span class="token function">Start-Process</span> <span class="token operator">-</span>FilePath <span class="token variable">$MagickPath</span> <span class="token operator">-</span>ArgumentList <span class="token variable">$Params</span> <span class="token operator">-</span>NoNewWindow <span class="token operator">-</span>Wait

    <span class="token function">Remove-Item</span> <span class="token variable">$SourceDirectory</span> <span class="token operator">-</span>Recurse
    <span class="token function">Remove-Item</span> <span class="token variable">$UpscaledDirectory</span> <span class="token operator">-</span>Recurse
    <span class="token function">Remove-Item</span> <span class="token punctuation">(</span><span class="token variable">$InputDirectory</span> <span class="token operator">+</span> <span class="token string">'\'</span> <span class="token operator">+</span> <span class="token namespace">[IO.Path]</span>::GetFileNameWithoutExtension<span class="token punctuation">(</span><span class="token variable">$InputFile</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">'.txt'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment"># 调用示例</span>
Invoke-Waifu2xGIF <span class="token operator">-</span>InputFile <span class="token string">'input.gif'</span> <span class="token operator">-</span>OutputFile <span class="token string">'output.gif'</span> <span class="token operator">-</span>Scale 2 <span class="token operator">-</span>TTA<span class="line-numbers-rows" aria-hidden="true"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>最后是放大为原图尺寸 4 倍的小埋：</p><figure class="akarin-blurred-container"><div style="padding-bottom:min(calc(100%/704*720),720px,480px)"></div><img class="mdui-hoverable mdui-img-rounded" data-src="https://p.sda1.dev/12/f8d3dace3f3a6911e2cb9fdadffd7f57/0wdoAOz5.gif" data-src-webp="https://p.sda1.dev/12/9c2bf54c40f4b60a0c5e7f3728756f34/VrrTcv1Q.webp"> <img class="mdui-hoverable mdui-img-rounded akarin-blurred" src="data:image/jpeg;base64,/9j/2wBDAAgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNH/2wBDAQgICAgJCAkKCgkNDgwODRMREBARExwUFhQWFBwrGx8bGx8bKyYuJSMlLiZENS8vNUROQj5CTl9VVV93cXecnNH/wAARCAAgAB8DASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAABQYHBAL/xAAmEAACAQMEAQMFAAAAAAAAAAABAgMABBEFEiExURMiQRQjMmGh/8QAGQEAAQUAAAAAAAAAAAAAAAAAAgEDBAUG/8QAHxEAAgICAgMBAAAAAAAAAAAAAQIDEQAhEjEEEyJR/9oADAMBAAIRAxEAPwAYIGZwoHuNb10mbA34TPQPdbLKANdwxnstyaao/ojbTyhvVEZKO+1iU2nBJHfFUgEjj5zQ84I69lkm9DJ5d6fPCdzAMnlaGNVEvYYGiQoD6cwbAIPQ+Rnzmp/JF9wofjujRmsq3YxZFTikkZtWxstGkiuo5VAJGTz4pognhaF7M6egF1uZ1HAkMgyTmldkZsqrlTjBYUVttb1G0DQxuskW3hJhv2DwCCKGB0F85Co10MYm+kUJGC27JOdXzyiSCA2vopFGAqk8gYAH8FLGoW8cZEigAsTu/Z80YvtavbgwxyJAdnuZ1QoSCPxoNdO07qGHAGcUL6mJV7X9yXHIh8UIyU99Z//Z"><noscript><img class="mdui-hoverable mdui-img-rounded mdui-center mdui-img-fluid" src="https://p.sda1.dev/12/f8d3dace3f3a6911e2cb9fdadffd7f57/0wdoAOz5.gif" alt="undefined" title="undefined"></noscript></figure><p>因为 GIF 格式过于古老，压缩效率太低，所以图片分辨率变大的话文件大小也会大量增加。可以使用<a href="https://ezgif.com/optimize" target="_blank" rel="noopener">这个在线小工具</a>对 GIF 进一步进行各种有损压缩，降低文件大小。</p><p>（为了进一步压缩，上面的动图已经转换成 Animated WebP 了）</p><blockquote class="mdui-m-b-0 mdui-m-x-0 mdui-p-y-1" style="border-left:4px solid rgba(0,0,0,.36)"><strong>本作品采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。不允许内容农场类网站、CSDN 用户和微信公众号转载。</strong><br><strong>本文作者：✨小透明・宸✨</strong><br><strong>本文链接：<a href="https://akarin.dev/2019/11/23/powershell-waifu2xgif/">https://akarin.dev/2019/11/23/powershell-waifu2xgif/</a></strong></blockquote></article><div class="mdui-p-a-3 mdui-color-white" id="lv-container" data-id="city" data-uid="MTAyMC80NDUwOC8yMTAzOQ=="><script>(()=>{const e=document.createElement("script");e.src="https://cdn-city.livere.com/js/embed.dist.js",e.async=!0,document.body.appendChild(e)})()</script></div></div><div class="mdui-valign mdui-m-t-2"><a href="../../../../2020/01/10/php-websocket-server/" class="mdui-ripple mdui-btn mdui-btn-icon"><i class="material-icons mdui-icon">chevron_left</i> </a><span class="mdui-typo-body-1-opacity mdui-text-left mdui-m-l-1" title="使用 PHP 的 Ratchet 框架搭建 WebSocket 服务端">上一篇</span> <span class="mdui-typo-body-1-opacity mdui-text-center" style="flex-grow:1"></span> <span class="mdui-typo-body-1-opacity mdui-text-right mdui-m-r-1" title="2019 年暨南大学“新生杯”CTF Write-Up">下一篇</span> <a href="../../16/2019-jnu-ctf-writeup/" class="mdui-ripple mdui-btn mdui-btn-icon"><i class="material-icons mdui-icon">chevron_right</i></a></div></main><footer class="mdui-container mdui-m-y-5 mdui-typo" style="display:flex;max-width:1024px"><div class="mdui-typo-body-1-opacity mdui-text-left">Copyright © 2024 ✨小透明・宸✨<br>Hosted by <a href="https://github.com/TransparentLC/transparentlc.github.io" target="_blank">Github Pages</a></div><div style="flex-grow:1"></div><div class="mdui-typo-body-1-opacity mdui-text-right">Powered by <a href="https://hexo.io" target="_blank">Hexo</a> <span class="mdui-hidden-xs-down">7.3.0</span><br>Theme - <a href="https://github.com/TransparentLC/hexo-theme-akarin" target="_blank">Akarin</a></div></footer><script src="https://gcore.jsdelivr.net/combine/gh/TransparentLC/transparentlc.github.io/js/mdui.min.js,npm/medium-zoom@1/dist/medium-zoom.min.js,npm/instant.page@5/instantpage.min.js,npm/aplayer@1/dist/APlayer.min.js,gh/TransparentLC/transparentlc.github.io@879beec/js/script.min.js"></script><script src="https://gcore.jsdelivr.net/gh/TransparentLC/transparentlc.github.io/js/bsz.min.js" async></script></body></html>