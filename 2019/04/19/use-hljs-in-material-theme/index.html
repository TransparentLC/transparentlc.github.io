<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">

    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net/gh/viosey/hexo-theme-material@latest/source">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info">







    <link rel="dns-prefetch" href="https://lib.baomitu.com">





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            在 hexo-theme-material 主题上使用 highlight.js 进行代码高亮/显示行号 | 
        
        存在感消失的地方|ω•`)
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="../../../../img/favicon.png">
    <link rel="icon" href="../../../../img/favicon.png">

    <meta name="format-detection" content="telephone=no">
    <meta name="description" itemprop="description" content>
    <meta name="keywords" content>
    <meta name="theme-color" content="#e16b8c">

    <!-- Disable Fucking Bloody Baidu Transformation -->
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    
    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","https://cdn.jsdelivr.net/gh/viosey/hexo-theme-material@latest/source/css/material.min.css",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","https://cdn.jsdelivr.net/gh/viosey/hexo-theme-material@latest/source/css/style.min.css",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  /* Animated Underline On Links */
  a {
    color: #db4d6d;
    position: relative;
    text-decoration: none;
  }

  a:after {
    content: "";
    width: 0;
    height: 1px;
    background: #db4d6d;
    position: absolute;
    top: 100%;
    left: 50%;
    transition: all .2s;
  }

  a:hover:after {
    left: 0%;
    width: 100%;
  }
  
  .article-headline-p > a:after, .index-top-block-slogan > a:after, .something-else-logo > a:after, .footer-develop-div > a:after, .post-toc-item > a:after, a.next-content:after, a.prev-content:after {
    background: transparent;
  }
  
  video {
    width: 100%;
    border-radius: 2px;
  }
  
  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #e16b8c !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #e16b8c !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #e16b8c !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #db4d6d;
    text-decoration: underline;
  }
  
  #post-content, #post-content p {
    color: #2f2f2f !important;
    font-size: 16px !important;
  }
  
  /* Horizontal Scroll Bar For Code */
  pre.prettyprint > ol {
    white-space: pre !important;
    overflow-x: auto !important;
  }
  
  /* "Copy Codeblock" Button */
  .copy-button {
    float: right;
    border: none;
    color: #fff;
    background-color: transparent;
    margin-top: 8px;
  }
</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #f5f5f5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>


<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <style>
        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: 300;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.svg#Roboto) format('svg')
        }

        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: regular;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.svg#Roboto) format('svg')
        }

        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: 500;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.svg#Roboto) format('svg')
        }
    </style>


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","https://cdn.jsdelivr.net/gh/viosey/hexo-theme-material@latest/source/css/material-icons.css",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>



<!-- Import highlight.js Visual Studio Dark Theme -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@latest/build/styles/vs2015.min.css">
<style>
  pre {
      background-color: #1e1e1e !important;
      font-size: 15px !important;
  }

  .hljs {
      margin: 0 0 0 0 !important;
      padding-left: 0 !important;
      line-height: 1.5em !important;
      list-style: none !important;
      counter-reset: item;
  }

  /* Style of line numbers */
  .hljs > li:before {
      content: counter(item);
      counter-increment: item;
      display: inline-block;
      text-align: right;
      min-width: 2em;
      margin-right: 1em;
      color: #2b91af;
  }

  /* Add line numbers by RegEx replacing, hide empty line in the end of code block */
  .hljs > li:last-of-type, code.plain > li:last-of-type, code.text > li:last-of-type {
      display: none;
  }

  .hljs-comment {
      font-style: normal;
  }

  /* Disable line numbers in plain text */
  code.plain, code.text {
      list-style: none !important;
      color: #dcdcdc;
      display: block;
      overflow-x: auto;
  }
</style>

    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="存在感消失的地方|ω•`)">
    <meta name="msapplication-starturl" content="https://transparentlc.github.io">
    <meta name="msapplication-navbutton-color" content="#e16b8c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="存在感消失的地方|ω•`)">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="../../../../img/favicon.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://transparentlc.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="在 hexo-theme-material 主题上使用 highlight.js 进行代码高亮/显示行号 | 存在感消失的地方|ω•`)">
    <meta property="og:image" content="../../../../img/favicon.png">
    <meta property="og:description" content>
    

    
        <meta property="article:published_time" content="Fri Apr 19 2019 12:25:07 GMT+0800">
        <meta property="article:modified_time" content="Fri Apr 19 2019 12:25:07 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://transparentlc.github.io">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "https://transparentlc.github.io",
    "headline": "在 hexo-theme-material 主题上使用 highlight.js 进行代码高亮/显示行号",
    "datePublished": "Fri Apr 19 2019 12:25:07 GMT+0800",
    "dateModified": "Fri Apr 19 2019 12:25:07 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "✨小透明・宸✨",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.jpg"
        },
        "description": "身处寒夜 把握星光✨"
    },
    "publisher": {
        "@type": "Organization",
        "name": "存在感消失的地方|ω•`)",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.png"
        }
    },
    "keywords": "",
    "description": "",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#引入-highlight-js"><span class="post-toc-number">1.</span> <span class="post-toc-text">引入 highlight.js</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#为-highlight-js-添加行号显示功能"><span class="post-toc-number">2.</span> <span class="post-toc-text">为 highlight.js 添加行号显示功能</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(https://ae01.alicdn.com/kf/HTB1ufPFQ6DpK1RjSZFrq6y78VXa0.jpg)">
    
            <p class="article-headline-p">
                在 hexo-theme-material 主题上使用 highlight.js 进行代码高亮/显示行号
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="../../../../img/avatar.jpg" width="44px" height="44px" alt="Author Avatar">
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>✨小透明・宸✨</strong>
        <span>2019-04-19 12:25:07</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button" style="text-align: center;">
    <li class="mdl-menu__item" style="text-align: center;">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKQAAACkCAAAAAA83tqdAAACNElEQVR42u3a0XKDMAxEUf7/p9vXNGNrr4BOU3R56TQl4dCJjLz28fUPjkOkSJEiPwB5FMePNyx+f31t9d7397y+Rq4rci5y+aVdAHaY6vx3WOu6Ikcjd1/6hK0KZwVYff6u2ESKrJDloBsG8urvIkVeKRxSBFVTkm5epEjyoE/NRRr0V8Vzexck8nHIakL0mz9vmy2KfBQyhkYhFEgN8a5JvjVVE/koJGlqq+YhoauCTJM3kTORuy961aQm+C7Eoo2wSJHxQV9MmhKeNhSxwRA5GlkNzLsPJAVzOtgXORaZQNWEnzQQpIhEiuwEqKTAUmGRZkbkbGS1eEQLp7phGlotB3yRIsHCULoxEjCkhVSRImnoSRZLyQOgPRETOQp5JrDqTPhJcNDqgkSOQVaNQ3cDCAnwyWK+yJlIugGJhKedSRj5h4iciaSBfSeQp4UUb0rkSCQFksGfFl17AVTkKGTnQ9Nknizi7wKF2AWJHIVMFybNa9qQVJ3XnoiJfDSSLlpuN2KCIus0MCJFXt2IRIsqBVatnagixyDJAjxZGK0KLN0ASjBEjkHSDSMpTK3Op4ukIkWmgIqcm1CdBSqRc5F0EE7ndMMDVGgiRyLJBuDuQmh1U6QIRYrsBKpngivSXKOmV+QoZNokR4PR1Ey3ggSRIpuTsLhJs7m581LhiByFrAbc1HyQm751MBf5GCQN4NMFaGBFGmmRc5HpwU/C+GogJxs/42Aucgzykw+RIkWK/MPjGxrsl6YN3et9AAAAAElFTkSuQmCC">
    
</ul>

    

    <!-- Tags (bookmark) -->
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=在 hexo-theme-material 主题上使用 highlight.js 进行代码高亮/显示行号&url=https://transparentlc.github.io&pic=https://transparentlc.github.io/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    

    <!-- Share Facebook -->
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=存在感消失的地方|ω•`)&title=在 hexo-theme-material 主题上使用 highlight.js 进行代码高亮/显示行号&summary=&pics=https://transparentlc.github.io/img/favicon.png&url=https://transparentlc.github.io" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>Hexo 自带了在渲染网页时进行代码高亮的功能，现在本站正在使用的主题 <a href="https://github.com/viosey/hexo-theme-material" target="_blank" rel="noopener">Material Theme
</a> 也加入了 <a href="https://github.com/google/code-prettify" target="_blank" rel="noopener">prettify.js</a> 和 <a href="https://github.com/egoist/hanabi" target="_blank" rel="noopener">hanabi</a> 两种代码高亮工具的支持。</p>
<p>然鹅小透明出于以下理由还是想折腾一下，使用 <a href="https://highlightjs.org/" target="_blank" rel="noopener">highlight.js</a> 来进行代码高亮～</p>
<ul>
<li>不知道是哪里出了问题，Hexo 自带的代码高亮完全没有任何效果( ｡･_･｡)</li>
<li>hanabi 的颜色过于鲜艳，而且不论类型对每一块代码的着色似乎是完全随机的？！Σ（ﾟдﾟlll）</li>
<li>prettify.js 的效果其实也不算差啦～( ๑´•ω•)۶</li>
<li>highlight.js 有<del>宇宙第一 IDE</del> Visual Studio 的配色主题！_(•̀ω•́ 」∠)_<del>好像这个才是真实原因吧</del></li>
</ul>
<p><img src="https://ae01.alicdn.com/kf/HTB1LOzeQ4TpK1RjSZFM762G_VXaw.png" alt></p>
<p>左上是 Hexo 自带的<del>高亮</del>（根本没有颜色），右上是 hanabi，左下是使用了 <code>GitHub v2</code> 主题的 prettify.js，右下是使用了 <code>VS 2015</code> 主题（以及按这里的步骤进行魔改后）的 highlight.js。</p>
<p>吐槽一下，代码高亮工具并不能做到和 IDE 的效果一模一样……比如 <code>puts()</code> 是个函数，结果还是被 hanabi 和 highlight.js 着色了(っ ̯ -｡)</p>
<h1 id="引入-highlight-js"><a href="#引入-highlight-js" class="headerlink" title="引入 highlight.js"></a>引入 highlight.js</h1><p>首先要把 Hexo 和 Material Theme 自带的高亮关掉(。・`ω´・)</p>
<pre><code class="yaml"># Writing
highlight:
  enable: false
  line_number: false
  auto_detect: false
  tab_replace:
</code></pre>
<pre><code class="yaml"># Code highlight
#   Prettify
prettify:
  enable: false
  theme: &quot;github-v2&quot;

#   Hanabi (https://github.com/egoist/hanabi)
hanabi:
  enable: false
  line_number: true
  includeDefaultColors: true
  customColors:
</code></pre>
<p>然后在生成的网页上引入 highlight.js 的本体和主题( つ•̀ω•́)つ</p>
<p>涉及到的页面模板的路径为 <code>\themes\hexo-theme-material\layout\_partial</code> 目录下的 <code>import_js.ejs</code> 和 <code>config_css.ejs</code> 两个文件，把下面的代码（也可以修改 CSS 使用别的主题）写在文件的最后面。</p>
<p><del><a href="https://www.jsdelivr.com/" target="_blank" rel="noopener">jsDelivr</a> 是本站唯一钦定的前端资源公用 CDN 库</del></p>
<pre><code class="html">&lt;script src=&quot;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@latest/build/highlight.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;
    hljs.initHighlightingOnLoad();
&lt;/script&gt;
</code></pre>
<pre><code class="html">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@latest/build/styles/vs2015.min.css&quot;&gt;
</code></pre>
<p>按理来说，这样就已经可以有 highlight.js 的代码高亮效果了……但是官网的演示中，<code>VS 2015</code> 主题下代码块的背景色应该是黑色，这里怎么还是白色背景呢？(っ’-‘)╮</p>
<p><img src="https://ae01.alicdn.com/kf/HTB12wvjQVzqK1RjSZFo762fcXXaU.png" alt></p>
<p>highlight.js 默认对 <code>&lt;pre&gt;&lt;code&gt;...&lt;/code&gt;&lt;pre&gt;</code> 的代码块着色，然后会给 <code>&lt;code&gt;</code> 加上类 <code>hljs</code>，主题的背景色写进了 CSS 的 <code>.hljs</code> <strong>类选择器</strong>。然而 Material Theme 的文章本体包含在 <code>&lt;div id=&quot;post-content&quot;&gt;</code>中，代码块背景色写进了 CSS 的 <code>#post-content pre</code> 选择器，有一个 <strong>ID 选择器</strong>，自然要优先于 <code>hljs</code> 这个类选择器了。</p>
<p>简单直接的解决方法就是把背景色等被覆盖的样式再抄一遍，然后加上 <code>!important</code> 提高优先级咯～（*‘ε·*）</p>
<pre><code class="css">/* highlight.js: vs2015.css */
.hljs {
    /* 其余部分略 */
    background: #1e1e1e;
}

/* Material Theme: style.css*/
#post-content pre {
    /* 其余部分略 */
    background-color: #f7f7f7;
}

/* 在config_css.ejs中加入的内容，使用!important提高优先级 */
/* 如果不使用公用CDN库，可以直接修改CSS文件 */
pre {
    background-color: #1e1e1e !important;
    font-size: 15px !important;
}

.hljs {
    margin: 0 0 0 0 !important;
    padding-left: 0 !important;
    line-height: 1.5em !important;
}

/* （可选）把highlight.js主题加入的斜体去掉，Visual Studio的注释并不是斜体啊喂！ */
.hljs-comment {
    font-style: normal;
}
</code></pre>
<p>到这里，文章中代码的颜色就已经是 Visual Studio 的形状了～٩( ‘ω’ )و </p>
<p><img src="https://ae01.alicdn.com/kf/HTB1XLLsQ7PoK1RjSZKb7601IXXaL.png" alt></p>
<h1 id="为-highlight-js-添加行号显示功能"><a href="#为-highlight-js-添加行号显示功能" class="headerlink" title="为 highlight.js 添加行号显示功能"></a>为 highlight.js 添加行号显示功能</h1><p><del>prettify.js 已经自带行号显示了</del></p>
<p>highlight.js 本身没有行号显示功能，开发者甚至<a href="https://highlightjs.readthedocs.io/en/latest/line-numbers.html" target="_blank" rel="noopener">在说明书中专门写了几段话</a>说明自己为什么不愿意加入这个功能←_←</p>
<blockquote>
<p>Many highlighters, in my opinion, are overdoing it with such things as separate colors for every single type of lexemes, striped backgrounds, fancy buttons around code blocks and — yes — line numbers. The more fancy stuff resides around the code the more it distracts a reader from understanding it.<br>This is why it’s not a straightforward decision: this new feature will not just make highlight.js better, it might actually make it worse simply by making it look more bloated in blog posts around the Internet.</p>
</blockquote>
<p>嗯……别人可以不用，但是你不能没有啊(⑉･̆-･̆⑉)</p>
<p>不过加上行号也不难，HTML 的有序列表 <code>&lt;ol&gt;</code> 可以在列表的每一项前面显示一个序号。把每一行代码写进 <code>&lt;li&gt;</code> 放进这个有序列表里面，显示的序号就相当于行号了。实际上 prettify.js 的行号显示就是这么实现的～</p>
<p>从<a href="https://juejin.im/entry/5b3047db6fb9a00e523989fc#5" target="_blank" rel="noopener">这里</a>找到了一段 JS，在使用 <code>hljs.initHighlightingOnLoad()</code> 进行高亮之前，可以通过 <code>&lt;li&gt;</code> 标签替换换行符 <code>\n</code>，把代码弄成有序列表的形式。</p>
<pre><code class="js">//Material Theme主题本身已经用到了jQuery，可以直接使用
$(&quot;pre code&quot;).each(function(){
    $(this).html(&quot;&lt;ol&gt;&lt;li&gt;&quot; + $(this).html().replace(/\n/g,&quot;\n&lt;/li&gt;&lt;li&gt;&quot;) +&quot;\n&lt;/li&gt;&lt;/ol&gt;&quot;);
});

//不过，如果不想使用jQuery，而是使用原生JS实现的话……
Array.from(document.querySelectorAll(&quot;pre code&quot;)).forEach(function(codeBlock){
    codeBlock.innerHTML = &quot;&lt;ol&gt;&lt;li&gt;&quot; + codeBlock.innerHTML.replace(/\n/g, &quot;\n&lt;/li&gt;&lt;li&gt;&quot;) + &quot;\n&lt;/li&gt;&lt;/ol&gt;&quot;;
});
</code></pre>
<p><img src="https://ae01.alicdn.com/kf/HTB1dE_sQ9zqK1RjSZFH7623CpXaK.png" alt></p>
<p>效果已经很不错了！ᕦ( ᐛ )ᘎ</p>
<p>不过还有些不完美的地方……这个代码块的上下边距比较大（调整 <code>margin</code> 或 <code>padding</code> 就可以解决）、最后还多出了一个空行、和 Visual Studio 的行号显示还是有点差别：Visual Studio 的黑色主题中行号是水蓝色的，而且数字的后面没有点。</p>
<p><img src="https://ae01.alicdn.com/kf/HTB1zg_wQ9zqK1RjSZFp761kSXXaF.png" alt></p>
<p><code>&lt;ol&gt;</code> 和 <code>&lt;ul&gt;</code> 有个名为 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/list-style-type" target="_blank" rel="noopener"><code>list-style-type</code></a> 的 CSS 属性可以改变列表前面的序号格式，不过没有只有数字的样式，而且序号的颜色只能和列表内的文本颜色一样，所以要实现 Visual Studio 的行号显示大概不能指望这个了……_(:_」∠)_</p>
<p>小透明后来从 Stack Overflow 上找到了<a href="https://stackoverflow.com/questions/40842277/create-line-numbers-on-pre-with-css-only" target="_blank" rel="noopener">另外一个方法</a>～</p>
<p>这个方法的原理是对每一行使用 CSS 的 <code>:before</code> 伪元素。<code>:before</code> 和 <code>:after</code> 两个伪元素可以在网页上的<strong>元素内部</strong>的前面和后面添加内容，CSS 还有 <code>counter()</code> 函数和 <code>counter-reset</code>、<code>counter-increment</code> 两个属性，配合起来可以实现“计数器”的效果，于是就可以对每一行进行计数（相当于行号），并显示在每一行开头的 <code>:before</code> 里面|ω•`)</p>
<p>用伪元素实现行号后，也就不需要添加 <code>&lt;ol&gt;</code> 了。复制代码的时候也不会复制到行号，因为伪元素是不能被选中的。</p>
<pre><code class="js">//使用jQuery实现
$(&quot;pre code&quot;).each(function(){
    $(this).html(&quot;&lt;li&gt;&quot; + $(this).html().replace(/\n/g,&quot;\n&lt;/li&gt;&lt;li&gt;&quot;) +&quot;\n&lt;/li&gt;&quot;);
});

//使用原生JS实现
Array.from(document.querySelectorAll(&quot;pre code&quot;)).forEach(function(codeBlock){
    codeBlock.innerHTML = &quot;&lt;li&gt;&quot; + codeBlock.innerHTML.replace(/\n/g, &quot;\n&lt;/li&gt;&lt;li&gt;&quot;) + &quot;\n&lt;/li&gt;&quot;;
});
</code></pre>
<pre><code class="css">.hljs {
    margin: 0 0 0 0 !important;
    padding-left: 0 !important;
    line-height: 1.5em !important;
    list-style: none !important;
    counter-reset: item; /* 为每个代码块指定名为item的计数器，计数从0开始 */
}

.hljs &gt; li:before {
    content: counter(item); /* 在伪元素中显示计数器item的值 */
    counter-increment: item; /* 计数器item的值+1 */
    display: inline-block; /* 实现Visual Studio行号右对齐的效果 */
    text-align: right; /* 实现Visual Studio行号右对齐的效果 */
    min-width: 2em; /* 文章中行号一般不会超过两位数，所以设定行号区的宽度为两个数字 */
    margin-right: 1em; /* 行号和代码有一个字符的间隔 */
    color: #2b91af; /* Visual Studio的行号颜色 */
}
</code></pre>
<p>最后的空行很容易解决。CSS 有 <code>:last-of-type</code> 选择器，指定符合选择条件的最后一个元素，正好可以用来隐藏掉最后的空行～</p>
<pre><code class="css">.hljs &gt; li:last-of-type {
    display: none;
}
</code></pre>
<p>这样就实现了一开始那张图的效果了！不考虑那个绿色的 <code>puts()</code>，这个代码高亮效果和 Visual Studio 已经一模一样了～</p>
<p><img src="https://ae01.alicdn.com/kf/HTB1yfYMQ7voK1RjSZPf760PKFXab.png" alt></p>
<p>另外，在使用 Markdown 进行写作的时候，指定某个代码块的语言类型为 <code>plain</code> 或 <code>text</code> 可以让 highlight.js 不对这个代码块进行操作。这些没有被着色的代码块不会被加上类 <code>hljs</code>，所以需要再添加一些 CSS 进行特殊处理(´っω･｡｀)</p>
<pre><code class="css">.hljs &gt; li:last-of-type, code.plain &gt; li:last-of-type, code.text &gt; li:last-of-type {
    display: none;
}

code.plain, code.text {
    list-style: none !important; /* 不显示行号 */
    color: #dcdcdc; /* 和着色后代码的主要颜色相同 */
    display: block; /* 左右滚动代码块 */
    overflow-x: auto; /* 左右滚动代码块 */
}
</code></pre>
<p><img src="https://ae01.alicdn.com/kf/HTB1uzDLQ4TpK1RjSZFM762G_VXaX.png" alt></p>
<p>不进行处理的效果是左边，处理后的效果是右边～</p>

        
                <blockquote style="margin: 2em 0 0;padding: 0.5em 1em;border-left: 3px solid #F44336;background-color: #F5F5F5;list-style: none;">
                    <p><strong>
                         
                            本作品采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。
                        </strong>
                        <br>
                        <strong>本文链接：</strong><a href="https://transparentlc.github.io/2019/04/19/use-hljs-in-material-theme/">https://transparentlc.github.io/2019/04/19/use-hljs-in-material-theme/</a>
                    </p>
                </blockquote>
        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="../../26/baidu-search-result-redirection/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="../../13/huffman-file-compressor/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(../../../../img/sidebar_header.jpg); background-size: cover; background-position: center;">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="../../../../img/avatar.jpg" alt="✨小透明・宸✨'s avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown" style="background: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.5));">
        存在感满满的好孩子(´•ω•`)
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="https://zh.moegirl.org/%E9%98%BF%E5%8D%A1%E6%9E%97" target="_blank" title="\アッカリ～ン/">
                        
                        \アッカリ～ン/
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="关于">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于
            </a>
        </li>
        
    
        <li>
            <a href="https://github.com/TransparentLC" title="GitHub">
                
                    <i class="material-icons sidebar-material-icons">code</i>
                
                GitHub
            </a>
        </li>
        
    
        <li>
            <a href="https://git.io/AkarinNMB" title="阿卡林匿名版">
                
                    <i class="material-icons sidebar-material-icons">forum</i>
                
                阿卡林匿名版
            </a>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">5</span>
            </a>
        </li>
        
    
    
    <!-- Page and All Site PV -->
    
        <li>
            <a href="#">
                <span id="busuanzi_container_page_pv">本页浏览量<span id="busuanzi_value_page_pv" class="sidebar-badge">Loading...</span></span>
            </a>
        </li>
        <li>
            <a href="#">
                <span id="busuanzi_container_site_pv">本站浏览量<span id="busuanzi_value_site_pv" class="sidebar-badge">Loading...</span></span>
            </a>
        </li>
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;✨小透明・宸✨
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","https://cdn.jsdelivr.net/gh/viosey/hexo-theme-material@latest/source/js/lazyload.min.js", true)</script>



    <script>lsloader.load("js_js","https://cdn.jsdelivr.net/gh/viosey/hexo-theme-material@latest/source/js/js.min.js", true)</script>



    <script>lsloader.load("np_js","https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#db4d6d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #db4d6d, 0 0 15px #db4d6d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#db4d6d',
        'border-left-color': '#db4d6d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://cdn.jsdelivr.net/npm/busuanzi@2.3.0/bsz.pure.mini.js"></script>







<!-- Make a difficult decision :) -->
<!--<script src="/js/fuckWechat.js"></script>-->
<!--<script src="/js/fuckEvilBrowser.js"></script>-->

<!-- Import highlight.js -->
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@latest/build/highlight.min.js"></script>
<script>
    Array.from(document.querySelectorAll("pre code")).forEach(function(codeBlock){
        codeBlock.innerHTML = "<li>" + codeBlock.innerHTML.replace(/\n/g, "\n</li><li>") + "\n</li>";
    });

    hljs.initHighlightingOnLoad();
</script>

<!-- Click To View Full Size Image -->
<script>
    Array.from(document.querySelectorAll('#post-content > p > img')).forEach(function(image){
        image.style.cursor = 'pointer';
        image.title = '点击查看大图';
        image.onclick = function(){window.open(image.src)}; 
    });
</script>

<!-- Add "Copy Codeblock" Button -->
<script>
    Array.from(document.querySelectorAll("pre code")).forEach(function(codeBlock){
        var copyButton = document.createElement('button');
        copyButton.innerText = '复制代码';
        copyButton.onclick = function(){
            var range = document.createRange();
            range.selectNodeContents(codeBlock);
            var selection = document.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            document.execCommand('Copy');
            selection.removeAllRanges();
            alert('复制成功～☆ﾐ(o*･ω･)ﾉ');
        }
        copyButton.classList.add('copy-button');
        codeBlock.parentNode.appendChild(copyButton);
    });
</script>

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect: 'fadeIn'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 0000;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>
                </main>
            </div>
        </body>
    
</html>
